<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
  <div><input id="selection" type="text" /></div>
  <div><input type="submit" /></div>
<script>
// 選択中の文字列を取得する
chrome.tabs.getSelected(null, function(tab) {
  chrome.tabs.sendRequest(tab.id, { message: "getSelection" }, function(response) {
    var selection = response.result;
    var text = document.getElementById("selection");
    text.value = selection;
  });
});
</script>
</body>
</html>
